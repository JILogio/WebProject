{"ast":null,"code":"import { onMounted, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport axios from 'axios';\nimport Global from '@/Global';\nexport default {\n  name: 'HomePage',\n  setup() {\n    const message = ref('No estás logeado');\n    const store = useStore();\n    const url = Global.url;\n    onMounted(async () => {\n      try {\n        const response = await axios.get(`${url}User/user`, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        });\n        const content = response.data;\n        message.value = `Hola ${content.name}`;\n        await store.dispatch('setAuth', true);\n      } catch (err) {\n        await store.dispatch('setAuth', false);\n      }\n    });\n    return {\n      message\n    };\n  }\n};","map":{"version":3,"names":["onMounted","ref","useStore","axios","Global","name","setup","message","store","url","response","get","headers","withCredentials","content","data","value","dispatch","err"],"sources":["D:\\VS Code\\WebProject\\web-project\\src\\views\\HomePage.vue"],"sourcesContent":["<template>\r\n    <section class=\"Welcome\">\r\n        <div>{{ message }}</div>\r\n    </section>\r\n</template>\r\n\r\n<style scoped src=\"@/assets/css/HomeStyle.css\"></style>\r\n\r\n<script>\r\nimport { onMounted, ref } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport axios from 'axios';\r\nimport Global from '@/Global';\r\n\r\nexport default {\r\n    name: 'HomePage',\r\n    setup() {\r\n        const message = ref('No estás logeado');\r\n\r\n        const store = useStore();\r\n        const url = Global.url;\r\n\r\n        onMounted(async () => {\r\n            try {\r\n                const response = await axios.get(`${url}User/user`, {\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    withCredentials: true\r\n                });\r\n\r\n                const content = response.data;\r\n\r\n                message.value = `Hola ${content.name}`;\r\n\r\n                await store.dispatch('setAuth', true);\r\n            } catch (err) {\r\n                await store.dispatch('setAuth', false);\r\n            }\r\n        });\r\n\r\n        return {\r\n            message\r\n        };\r\n    }\r\n};\r\n</script>"],"mappings":"AASA,SAASA,SAAS,EAAEC,GAAE,QAAS,KAAK;AACpC,SAASC,QAAO,QAAS,MAAM;AAC/B,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,UAAU;AAE7B,eAAe;EACXC,IAAI,EAAE,UAAU;EAChBC,KAAKA,CAAA,EAAG;IACJ,MAAMC,OAAM,GAAIN,GAAG,CAAC,kBAAkB,CAAC;IAEvC,MAAMO,KAAI,GAAIN,QAAQ,CAAC,CAAC;IACxB,MAAMO,GAAE,GAAIL,MAAM,CAACK,GAAG;IAEtBT,SAAS,CAAC,YAAY;MAClB,IAAI;QACA,MAAMU,QAAO,GAAI,MAAMP,KAAK,CAACQ,GAAG,CAAE,GAAEF,GAAI,WAAU,EAAE;UAChDG,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAC/CC,eAAe,EAAE;QACrB,CAAC,CAAC;QAEF,MAAMC,OAAM,GAAIJ,QAAQ,CAACK,IAAI;QAE7BR,OAAO,CAACS,KAAI,GAAK,QAAOF,OAAO,CAACT,IAAK,EAAC;QAEtC,MAAMG,KAAK,CAACS,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC;MACzC,EAAE,OAAOC,GAAG,EAAE;QACV,MAAMV,KAAK,CAACS,QAAQ,CAAC,SAAS,EAAE,KAAK,CAAC;MAC1C;IACJ,CAAC,CAAC;IAEF,OAAO;MACHV;IACJ,CAAC;EACL;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6a3dd67a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"center\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Actualizar Usuario\", -1));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Nombre:\", -1));\nconst _hoisted_4 = [\"onUpdate:modelValue\"];\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"type\"\n}, \"Email:\", -1));\nconst _hoisted_7 = [\"onUpdate:modelValue\"];\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"price\"\n}, \"Rol:\", -1));\nconst _hoisted_10 = [\"onUpdate:modelValue\"];\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"price\"\n}, \"Password:\", -1));\nconst _hoisted_14 = [\"onUpdate:modelValue\"];\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Actualizar\", -1));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.updateUser && $options.updateUser(...args), [\"prevent\"]))\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.users, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user._id\n    }, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      \"onUpdate:modelValue\": $event => user['name'] = $event,\n      required: \"\"\n    }, null, 8, _hoisted_4), [[_vModelText, user['name']]]), _hoisted_5, _hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"email\",\n      \"onUpdate:modelValue\": $event => user['email'] = $event,\n      required: \"\"\n    }, null, 8, _hoisted_7), [[_vModelText, user['email']]]), _hoisted_8, _hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"role\",\n      \"onUpdate:modelValue\": $event => user['role'] = $event,\n      required: \"\"\n    }, null, 8, _hoisted_10), [[_vModelText, user['role']]]), _hoisted_11, _hoisted_12, _hoisted_13, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"password\",\n      \"onUpdate:modelValue\": $event => user['password'] = $event,\n      required: \"\"\n    }, null, 8, _hoisted_14), [[_vModelText, user['password']]]), _hoisted_15, _hoisted_16]);\n  }), 128))], 32)]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","updateUser","_Fragment","_renderList","$data","users","user","key","_id","_hoisted_3","id","$event","required","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_15","_hoisted_16"],"sources":["D:\\VScode\\WebProject\\web-project\\src\\views\\UpdateUser.vue"],"sourcesContent":["<template>\r\n    <div class=\"center\">\r\n        <h1>Actualizar Usuario</h1>\r\n        <form @submit.prevent=\"updateUser\">\r\n            <tr v-for=\"user in users\" :key=\"user._id\">\r\n                <label for=\"name\">Nombre:</label>\r\n                <input type=\"text\" id=\"name\" v-model=\"user['name']\" required>\r\n                <br>\r\n                <label for=\"type\">Email:</label>\r\n                <input type=\"text\" id=\"email\" v-model=\"user['email']\" required>\r\n                <br>\r\n                <label for=\"price\">Rol:</label>\r\n                <input type=\"text\" id=\"role\" v-model=\"user['role']\" required>\r\n                <br>\r\n                <br>\r\n                <label for=\"price\">Password:</label>\r\n                <input type=\"text\" id=\"password\" v-model=\"user['password']\" required>\r\n                <br>\r\n                <button type=\"submit\">Actualizar</button>\r\n            </tr>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<style scoped src=\"@/assets/css/AddProductStyle.css\"></style>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport Global from '@/Global';\r\n\r\nconst apiClient = axios.create({\r\n withCredentials: true,\r\n});\r\n   \r\nexport default {\r\n    name: \"UpdateUser\",\r\n    props: ['id'],\r\n    data() {\r\n       return {\r\n         url: Global.url,\r\n         users: {},\r\n       };\r\n    },\r\n    created() {\r\n       this.fetchUser();\r\n    },\r\n    methods: {\r\n    async fetchUser() {\r\n        try {\r\n            const response = await apiClient.get(this.url+'User/search?search='+this.id);\r\n            if(response.data.status == 'success'){\r\n                this.users = response.data.user;\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching user:', error);\r\n        }\r\n    },\r\n    async updateUser() {\r\n        try {\r\n            const gou = this.users.map(item => {\r\n            return {\r\n                name: item.name,\r\n                email: item.email,\r\n                role: item.role,\r\n                password: item.password\r\n            };\r\n            });\r\n\r\n            const filteredData = gou.flatMap(item => Object.values(item));\r\n\r\n            const data = {\r\n                name: filteredData[0],\r\n                email: filteredData[1],\r\n                role: filteredData[2],\r\n                password: filteredData[3]\r\n            }\r\n\r\n            await apiClient.put(this.url+'User/update/'+this.id, data);\r\n            this.$router.push('/AdminUser');\r\n        } catch (error) {\r\n            console.error('Error updating user:', error);\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n"],"mappings":";;;EACSA,KAAK,EAAC;AAAQ;gEACfC,mBAAA,CAA2B,YAAvB,oBAAkB;gEAGdA,mBAAA,CAAiC;EAA1BC,GAAG,EAAC;AAAM,GAAC,SAAO;;gEAEzBD,mBAAA,CAAI;gEACJA,mBAAA,CAAgC;EAAzBC,GAAG,EAAC;AAAM,GAAC,QAAM;;gEAExBD,mBAAA,CAAI;gEACJA,mBAAA,CAA+B;EAAxBC,GAAG,EAAC;AAAO,GAAC,MAAI;;iEAEvBD,mBAAA,CAAI;iEACJA,mBAAA,CAAI;iEACJA,mBAAA,CAAoC;EAA7BC,GAAG,EAAC;AAAO,GAAC,WAAS;;iEAE5BD,mBAAA,CAAI;iEACJA,mBAAA,CAAyC;EAAjCE,IAAI,EAAC;AAAQ,GAAC,YAAU;;uBAjB5CC,mBAAA,CAoBM,OApBNC,UAoBM,GAnBFC,UAA2B,EAC3BL,mBAAA,CAiBO;IAjBAM,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;yBAC7BN,mBAAA,CAeKS,SAAA,QAAAC,WAAA,CAfcC,KAAA,CAAAC,KAAK,EAAbC,IAAI;yBAAfb,mBAAA,CAeK;MAfsBc,GAAG,EAAED,IAAI,CAACE;QACjCC,UAAiC,E,gBACjCnB,mBAAA,CAA6D;MAAtDE,IAAI,EAAC,MAAM;MAACkB,EAAE,EAAC,MAAM;uCAAUJ,IAAI,WAAAK,MAAA;MAAUC,QAAQ,EAAR;4CAAdN,IAAI,U,GAC1CO,UAAI,EACJC,UAAgC,E,gBAChCxB,mBAAA,CAA+D;MAAxDE,IAAI,EAAC,MAAM;MAACkB,EAAE,EAAC,OAAO;uCAAUJ,IAAI,YAAAK,MAAA;MAAWC,QAAQ,EAAR;4CAAfN,IAAI,W,GAC3CS,UAAI,EACJC,UAA+B,E,gBAC/B1B,mBAAA,CAA6D;MAAtDE,IAAI,EAAC,MAAM;MAACkB,EAAE,EAAC,MAAM;uCAAUJ,IAAI,WAAAK,MAAA;MAAUC,QAAQ,EAAR;6CAAdN,IAAI,U,GAC1CW,WAAI,EACJC,WAAI,EACJC,WAAoC,E,gBACpC7B,mBAAA,CAAqE;MAA9DE,IAAI,EAAC,MAAM;MAACkB,EAAE,EAAC,UAAU;uCAAUJ,IAAI,eAAAK,MAAA;MAAcC,QAAQ,EAAR;6CAAlBN,IAAI,c,GAC9Cc,WAAI,EACJC,WAAyC,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}
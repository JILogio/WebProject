{"ast":null,"code":"import { onMounted, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport Global from '@/Global';\nexport default {\n  name: 'HomePage',\n  setup() {\n    const message = ref('No estas logeado');\n    const store = useStore();\n    const url = Global.url;\n    onMounted(async () => {\n      try {\n        const response = await fetch(url + 'user', {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          credentials: 'include'\n        });\n        const content = await response.json();\n        message.value = `Hi ${content.name}`;\n        await store.dispatch('setAuth', true);\n      } catch (err) {\n        await store.dispatch('setAuth', false);\n      }\n    });\n    return {\n      message\n    };\n  }\n};","map":{"version":3,"names":["onMounted","ref","useStore","Global","name","setup","message","store","url","response","fetch","headers","credentials","content","json","value","dispatch","err"],"sources":["D:\\VS Code\\WebProject\\web-project\\src\\views\\HomePage.vue"],"sourcesContent":["<template>\r\n    {{ message }}\r\n</template>\r\n\r\n<script>\r\nimport {onMounted,ref} from 'vue'\r\nimport {useStore} from 'vuex'\r\nimport Global from '@/Global';\r\n\r\nexport default {\r\n    name: 'HomePage',\r\n    setup() {\r\n        const message = ref('No estas logeado');\r\n        \r\n        const store = useStore();\r\n        const url = Global.url;\r\n        onMounted(async () =>{\r\n        try{\r\n            const response = await fetch(url+'user',{\r\n                headers: {'Content-Type': 'application/json'},\r\n                credentials: 'include'\r\n            })\r\n\r\n            const content = await response.json();\r\n\r\n            message.value = `Hi ${content.name}`;\r\n\r\n            await store.dispatch('setAuth',true)\r\n        } catch (err){\r\n            await store.dispatch('setAuth',false)\r\n        }\r\n        })\r\n\r\n        return {\r\n            message\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"AAKA,SAAQA,SAAS,EAACC,GAAG,QAAO,KAAI;AAChC,SAAQC,QAAQ,QAAO,MAAK;AAC5B,OAAOC,MAAK,MAAO,UAAU;AAE7B,eAAe;EACXC,IAAI,EAAE,UAAU;EAChBC,KAAKA,CAAA,EAAG;IACJ,MAAMC,OAAM,GAAIL,GAAG,CAAC,kBAAkB,CAAC;IAEvC,MAAMM,KAAI,GAAIL,QAAQ,CAAC,CAAC;IACxB,MAAMM,GAAE,GAAIL,MAAM,CAACK,GAAG;IACtBR,SAAS,CAAC,YAAW;MACrB,IAAG;QACC,MAAMS,QAAO,GAAI,MAAMC,KAAK,CAACF,GAAG,GAAC,MAAM,EAAC;UACpCG,OAAO,EAAE;YAAC,cAAc,EAAE;UAAkB,CAAC;UAC7CC,WAAW,EAAE;QACjB,CAAC;QAED,MAAMC,OAAM,GAAI,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;QAErCR,OAAO,CAACS,KAAI,GAAK,MAAKF,OAAO,CAACT,IAAK,EAAC;QAEpC,MAAMG,KAAK,CAACS,QAAQ,CAAC,SAAS,EAAC,IAAI;MACvC,EAAE,OAAOC,GAAG,EAAC;QACT,MAAMV,KAAK,CAACS,QAAQ,CAAC,SAAS,EAAC,KAAK;MACxC;IACA,CAAC;IAED,OAAO;MACHV;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}